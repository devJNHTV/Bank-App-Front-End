<div *ngIf="loading" style="display: flex; justify-content: center; align-items: center; height: 300px;">
  <p-progressSpinner></p-progressSpinner>
</div>
<div *ngIf="!loading" class="dashboard-loan-admin-wrapper">
  <div class="dashboard-header">
    <h1 class="dashboard-title">
      <i class="pi pi-chart-line"></i>
      Dashboard Khoản Vay
    </h1>
    <p class="dashboard-subtitle">Tổng quan thông tin và thống kê hệ thống cho vay</p>
  </div>
  <div class="">
    <div class="poo">
      <div class="pie">
        <div class="chart-wrapper">
          <p-chart
            type="bar"
            [data]="barChartData"
            [options]="barChartOptions"
            style="height:350px; width:100%;"
          ></p-chart>
        </div>
      </div>

      <div class="ring">
        <div class="chart-wrapper">
          <p-chart
            type="pie"
            [data]="pieChartData"
            [options]="pieChartOptions"
            style="height:350px; width:100%;"
          ></p-chart>
        </div>
      </div>
    </div>
  </div>
  <!-- Stats Cards Section -->
  <div class="stats-section">
    <div class="stats-grid">
      <div class="stat-card primary">
        <div class="stat-icon">
          <i class="pi pi-wallet"></i>
        </div>
        <div class="stat-content">
          <h3 class="stat-title">Tổng số khoản vay</h3>
          <div class="stat-value">{{ totalLoans }} <div class="stat-trend positive">
              <i class="pi pi-arrow-up"></i>
              <span>Khoản vay</span>
            </div></div>
          
        </div>
      </div>

      <div class="stat-card success">
        <div class="stat-icon">
          <i class="pi pi-money-bill"></i>
        </div>
        <div class="stat-content">
          <h3 class="stat-title">Đã giải ngân</h3>
          <div class="stat-value">{{ totalBorrowed | number }} <div class="stat-unit">VNĐ</div></div>

        </div>
      </div>

      <div class="stat-card info">
        <div class="stat-icon">
          <i class="pi pi-credit-card"></i>
        </div>
        <div class="stat-content">
          <h3 class="stat-title">Đã thu hồi</h3>
          <div class="stat-value">{{ (totalBorrowed - totalOutstanding) | number }} <div class="stat-unit">VNĐ</div></div>
          
        </div>
      </div>

      <div class="stat-card warning">
        <div class="stat-icon">
          <i class="pi pi-percentage"></i>
        </div>
        <div class="stat-content">
          <h3 class="stat-title">Tiền lãi thu được</h3>
          <div class="stat-value">{{ totalInterest | number }} <div class="stat-unit">VNĐ</div></div>
          
        </div>
      </div>

      <div class="stat-card complete">
        <div class="stat-icon">
          <i class="pi pi-check-circle"></i>
        </div>
        <div class="stat-content">
          <h3 class="stat-title">Khoản vay đã đóng</h3>
          <div class="stat-value">{{ totalClosedLoans }}<div class="stat-trend positive">
              <i class="pi pi-check"></i>
              <span>Hoàn thành</span>
            </div></div>
          
        </div>
      </div>

      <div class="stat-card danger">
        <div class="stat-icon">
          <i class="pi pi-exclamation-triangle"></i>
        </div>
        <div class="stat-content">
          <h3 class="stat-title">Khoản vay trễ hạn</h3>
          <div class="stat-value">{{ totalLateLoans }} <div class="stat-trend negative">
              <i class="pi pi-clock"></i>
              <span>Cần xử lý</span>
            </div></div>
          
        </div>
      </div>

      <div class="stat-card rejected">
        <div class="stat-icon">
          <i class="pi pi-times-circle"></i>
        </div>
        <div class="stat-content">
          <h3 class="stat-title">Khoản vay bị từ chối</h3>
          <div class="stat-value">{{ totalRejectedLoans }}<div class="stat-trend neutral">
              <i class="pi pi-ban"></i>
              <span>Đã từ chối</span>
            </div></div>
          
        </div>
      </div>
    </div>
  </div>

  <!-- Charts Section -->
  
</div>